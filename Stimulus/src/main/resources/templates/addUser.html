<!DOCTYPE html>
<html>
	<head>
		<title>User - New</title>
		<link rel="stylesheet" th:href="@{/css/addUser.css}" />
    	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	</head>
	
	<body>
		<div id="form-card">
			<h1>Usuário</h1>

			<!--<form id="form-add-user" method="post" th:action="@{~/user/form/new2}">-->
			<form id="form-add-user" method="post" th:action="@{~/user/form/new2}">
				<div class="row">
					<label for="id">ID</label>
					<input type="number" name="id" id="id" placeholder="ID" required>
				</div>
				
				<div class="row">
					<label for="type">Tipo</label>
					<select name="type" id="type" placeholder="Tipo" required>
						<option value="0">ADM</option>
						<option value="1">Usuário Normal</option>
						<option value="2">Usuário Reduzido</option>
					</select>
				</div>
				
				<div class="row">
					<label for="name">Nome</label>
					<input type="text" name="name" id="name" placeholder="Nome" required>
				</div>
				
				<div class="row">
					<label for="username">Nome do usuário</label>
					<input type="text" name="username" id="username" placeholder="Nome do usuário" required>
				</div>
				
				<div class="row">
					<label for="email">Email</label>
					<input type="email" name="email" id="email" placeholder="Email" required>
				</div>
				
				<div class="row">
					<label for="password">Senha</label>
					<input type="password" name="password" id="password" placeholder="Senha" required>
				</div>
				
				<div class="row">
					<label for="picture">Foto</label>
					<input type="text" name="picture" id="picture" placeholder="Foto" required>
				</div>
				<!--<div class="row">
					<label for="picture">Foto</label>
					<input type="file" name="picture" id="picture" placeholder="Foto" required>
				</div>-->
				
				<div class="row">
					<label for="wallpaper">Foto de fundo</label>
					<input type="text" name="wallpaper" id="wallpaper" placeholder="Foto de fundo" required>
				</div>
				<!--<div class="row">
					<label for="wallpaper">Foto de fundo</label>
					<input type="file" name="wallpaper" placeholder="Foto de fundo" required>
				</div>-->
				
				<button id="btn-submit" type="button" onclick="onSubmit()">Enviar</button>
			</form>
		</div>
		
		<script>
			function onSubmit() {
				console.log("ele: ", document.getElementById("id").value);
				
				let formData = {
					"id": document.getElementById("id").value,
					"type": document.getElementById("type").value,
					"name": document.getElementById("name").value,
					"username": document.getElementById("username").value,
					"email": document.getElementById("email").value,
					"password": document.getElementById("password").value,
					"picture": document.getElementById("picture").value,	
					"wallpaper": document.getElementById("wallpaper").value,
				};
				
				formData = JSON.stringify(formData)
				
				fetch("/api/user/new", {
					method: "POST",
					headers: {
      					"Content-Type": "application/json"
               		},
               		body: formData
				})
					.then((response) => response.json())
					.then((data) => {
						console.log("dados: ", data);
					});
			}
		</script>
	</body>
</html>